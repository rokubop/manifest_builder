# Manifest builder for Talon packages

Automatically generates a `manifest.json` for your Talon packages (folders), discovering contributed entities, tracking dependencies, and resolving them to specific package versions.

# Usage

Clone this repository into your Talon user directory:

```bash
cd ~/talon/user  # or your talon user path
git clone https://github.com/rokubop/manifest_builder
```

Then navigate to the manifest_builder directory and run it on your target folder(s):

```bash
cd manifest_builder
python manifest_builder.py ../my-package
python manifest_builder.py ../package1 ../package2
```

A `manifest.json` file will be generated in each specified directory. If a `manifest.json` already exists, it will be updated with the new information.

## What it does

1. **Scans your folder** - Analyzes Python files to detect contributed and dependent Talon entities
2. **Scans the `user` directory** - Finds all other folders with manifests (generated by this tool)
3. **Resolves dependencies** - Matches your entity dependencies to specific folders and versions
4. **Generates/updates manifest.json** - Including metadata, contributes, depends, and resolved dependencies

## Example Output

```json
{
  "name": "my-package",
  "version": "1.0.0",
  "dependencies": {
    "ui_elements": "0.10.0"
  },
  "contributes": {
    "actions": ["user.my_action"]
  },
  "depends": {
    "actions": ["user.ui_elements_show"]
  }
}
```